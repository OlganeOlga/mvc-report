<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body>
        <header class="site-header" style="background-image: url({{ asset('img/img/det_just_var_fredag.jpg') }})">
            <span class="site-title">Reportsida för kurs MVC</span>
            <nav>
                <ul>
                    <li><a href="{{ path('me') }}">Det är jag</a></li>
                    <li><a href="{{ path('about') }}">About</a></li>
                    <li><a href="{{ path('report') }}">Report</a></li>
                    <li><a href="{{ path('lucky') }}">Lucky: galen sida</a></li>
                </ul>
                <ul>
                    <li><a href="{{ path('api_landing') }}">JsonControllers</a></li>
                    <li><a href="{{ path('app_library') }}">Bibliotek databas</a></li>
                    <li><a href="{{ path('metrics') }}">Metrics</a></li>

                </ul>
                <ul>
                    <li><a href="{{ path('pig_start')}}">'Kasta Gris'</a></li>
                    <li><a href="{{ path('card_play') }}">Fransk-engelsk kortspel</a></li>
                    <li><a href="{{ path('gamekmom03') }}">Kortspel 21</a></li>
                    <div class="dropdown">
                        <button class="dropbtn"><a href="#">Json Routes</a></button>
                        <div class="dropdown-content">
                            <li><a href="{{ path('api') }}">Alla routes</a></li>
                            <li><a href="{{ path('api.quote') }}">Dagens citat</a></li>
                            <li><a href="{{ path('api_desk') }}">Json kortspel</a></li>
                            <li><a href="#" id="shuffleDesk">Shuffla kortspel</a>
                                <script>
                                    document.addEventListener("DOMContentLoaded", function() {
                                        var shuffleLink = document.getElementById("shuffleDesk");
                                        shuffleLink.addEventListener("click", function(event) {
                                            event.preventDefault(); // Prevent the default behavior of the link
                                            
                                            var form = document.createElement("form");
                                            form.setAttribute("method", "post");
                                            form.setAttribute("action", "{{ path('api_desk_shuffle') }}");

                                            document.body.appendChild(form);
                                            form.submit();
                                        });
                                    });
                                </script>
                            </li>

                            <li><a href="#" id="draEttKort">Json Dra ett kort</a>
                                <script>
                                    document.addEventListener("DOMContentLoaded", function() {
                                        var draLink = document.getElementById("draEttKort");

                                        draLink.addEventListener("click", function(event) {
                                            event.preventDefault(); // Prevent the default behavior of the link
                                            
                                            var form = document.createElement("form");
                                            form.setAttribute("method", "post");
                                            form.setAttribute("action", "{{ path('api_desk_draw') }}");
                                            document.body.appendChild(form);
                                            form.submit();
                                        });
                                    });
                                </script>
                            </li>
                            
                            <li style="margin: 15px">Dra flera kort:</li>
                            <li>
                                <form class="linkForm" action="{{ path('api_desk_draw_flera', {'num_card': 1}) }}" id="drawManyForm" 
                                        method="post" onsubmit="updateCards()">
                                
                                    <input type="number" name="num_card" id="num_card_input" value="kort" min="1" max="51" 
                                    placeholder="kort" style="width: 50px; margin: 0 10px;">
                                    <input type="submit" value="Dra">
                                </form>

                                <script>
                                    function updateCards() {
                                        var numCard = document.getElementById('num_card_input').value;
                                        var formAction = "{{ path('api_desk_draw_flera', {'num_card': 'placeholder'}) }}";
                                        formAction = formAction.replace('placeholder', numCard);
                                        document.getElementById('drawManyForm').action = formAction;
                                        return true;
                                    }
                                </script>

                            </li>
                            <li style="margin: 15px">Dela ut för flera spelare:</li>
                            <li>
                                <form action="" id="dealForm" 
                                        method="post" onsubmit="updatePlay()">
                                    
                                    <input type="number" name="num_players" id="players_input" value="person" min="1" max="5" 
                                    placeholder="person" style="width: 60px; margin: 0 5px 3px 0;">
                        
                                    <input type="number" name="num_card" id="cards_input" value="kort" min="1" max="10" 
                                    placeholder="kort" style="width: 50px; margin: 0 5px;">
                                    <input type="submit" value="Dela" style="margin: 0 5px 3px 0;">
                                </form>

                                <script>
                                    function updatePlay() {                  
                                        var numCards = document.getElementById('cards_input').value;
                                        var numPlayers = document.getElementById('players_input').value;
                                        
                                        var formAction = "{{ path('api_desk_deal', {'play': 'placeholder1', 'cards': 'placeholder2'}) }}";
                                        formAction = formAction.replace('placeholder1', numPlayers);
                                        formAction = formAction.replace('placeholder2', numCards);
                                        document.getElementById('dealForm').action = formAction;
                                        document.getElementById('dealForm').submit();
                                    }
                                </script>
                            </li>
                            <li><a href="{{  path('json_cardplay21') }}">Visa kortspel 21 status</a></li>
                            <li><a href="{{  path('json_library') }}">Visa alla böcker</a></li>
                            <li>Sök en book med ISBN</li>
                            <li>
                                <form action="" id="changeByIsbnForm" 
                                        method="post" onsubmit="changeByIsbn()">
                                    
                                    <input type="number" name="isbn" id="isbn" value="" pattern="[0-9]{13}" 
                                    placeholder="XXXXXXXXXXXXX" title="Please enter exactly 13 digits" style="width: 120px; margin: 0 3px 3px 0;">
                                    <input type="submit" value="Söka" style="margin: 0 3px 3px 0;">
                                </form>

                                <script>
                                    function changeByIsbn() {                  
                                        var isbn = document.getElementById('isbn').value;
                                        
                                        var formAction = "{{ path('json_book_by_isbn', {'isbn': 'placeholder'}) }}";
                                        formAction = formAction.replace('placeholder', isbn);
                                        document.getElementById('changeByIsbnForm').action = formAction;
                                        document.getElementById('changeByIsbnForm').submit();
                                    }
                                </script>
                            </li>
                        </div>
                    </div>
                </ul>
            </nav>
        </header>
        {% block body %}{% endblock %}
        <footer>
            <p class="author">&copy; Olga Egorova, uppdaterad <time datetime="2022-06-29">2024-03-28</time>.</p>
        </footer> 
    </body>
</html>
